<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>构造函数模式</title>
</head>
<body>
	<script>
	//1、用于创建特定的对象
	//2、js开发推荐使用单引号
	//3、js的构造函数通过new才能调用其内部的函数方法
	//4、zMen 就是一个构造函数
	//5、第二种方法用instanceof来判断该方法是否是实例化的对象，如果不是则返回一个new的实例；

	function zMen(art){
		// console.log(this instanceof zMen);
		if(!(this instanceof zMen)){
			return new zMen();
		}
		var _huawen="普通";
		if(art){
			_huawen=art;
		};
		this.suo="普通";
		this.huawen=_huawen;
		this.creat=function(){
			return "锁"+this.suo+"花纹"+this.huawen;
		}
	}
	//如果上面没用instanceof则下面得用new
	// var xiaozhang=new zMen();
	// console.log(xiaozhang.creat());
	
	//如果上面使用了instanceof则下面可以加new也可以不加new
	// var xiaozhang=new zMen();
	// console.log(xiaozhang.creat());

	// var xiaoli = new zMen("绚丽");
	// console.log(xiaoli.creat());


	//单例模式和构造函数结合
	var AA={
		zaoMen:function(art){
			if(!(this instanceof zMen)){
			return new zMen();
				}
				var _huawen="普通";
				if(art){
					_huawen=art;
				};
				this.suo="普通";
				this.huawen=_huawen;
				this.creat=function(){
					return "锁"+this.suo+"花纹"+this.huawen;
				}

		}
	};

	var BB={
		zaoMen:function(art){
			if(!(this instanceof zMen)){
				return new zMen();
				}
				var _huawen="普通";
				if(art){
					_huawen=art;
				};
				this.suo="普通";
				this.huawen=_huawen;
				this.creat=function(){
					return "锁"+this.suo+"花纹"+this.huawen;
				}

		}
	};

	var xiaozhang2=new AA.zaoMen();
	console.log(xiaozhang2.creat());

	var xiaoli2 = new BB.zaoMen("绚丽");
	console.log(xiaoli2.creat());

	</script>
</body>
</html>